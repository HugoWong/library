(window.webpackJsonp=window.webpackJsonp||[]).push([[90],{411:function(t,s,a){"use strict";a.r(s);var n=a(3),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[t._v("Apache 基金会的开源项目，是一个高性能、功能强大、安全可靠、灵活的开放源码 Web 服务软件\n应用场景：")]),t._v(" "),s("ul",[s("li",[t._v("运行静态页面和图片")]),t._v(" "),s("li",[t._v("结合 PHP 引擎运行 PHP 程序")]),t._v(" "),s("li",[t._v("结合 Tomcat 运行 JAVA\\JSP 程序")]),t._v(" "),s("li",[t._v("做代理、负载平衡")])]),t._v(" "),s("h2",{attrs:{id:"安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[t._v("#")]),t._v(" 安装")]),t._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("yum "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" httpd.x86_64 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-y")]),t._v("\nsystemctl start httpd\nsystemctl "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("enable")]),t._v(" httpd\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ps")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-ef")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("grep")]),t._v(" apache\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br")])]),s("p",[t._v("文件目录：/etc/httpd/，包含配置文件、模块文件、日志文件\n默认站点文件位置 ：/var/www\n启动文件：/usr/sbin/httpd")]),t._v(" "),s("h2",{attrs:{id:"配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置"}},[t._v("#")]),t._v(" 配置")]),t._v(" "),s("p",[t._v("修改配置文件"),s("code",[t._v("vim /etc/httpd/conf")])]),t._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[t._v("ServerRoot "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/etc/httpd"')]),t._v("\t\t\t\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#用于指定 Apache 运行的根目录")]),t._v("\nListen "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),t._v("\t\t\t\t\t\t\t\t\t\t\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#监听 80 端口")]),t._v("\nMaxClients  "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("256")]),t._v("\t\t\t\t\t\t\t\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#指定同时能访问服务器的客户机数量为 256")]),t._v("\nDocumentRoot "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/var/www/html"')]),t._v("\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#网页文件存放的目录")]),t._v("\nDirectoryIndex index.html\t\t\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#默认网站主页")]),t._v("\nInclude conf.d/*.conf\t\t\t\t\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#读取 /etc/httpd/conf/conf.d/ 目录中所有以配置文件")]),t._v("\nServerName www.yuwei.cc\t\t\t\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#域名")]),t._v("\nServerAdmin\t\t\t\t\t\t\t\t\t\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#设置管理员的邮箱")]),t._v("\nInclude conf.d/*.conf\t\t\t\t\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#包含的子配置文件")]),t._v("\nUser apache\t\t\t\t\t\t\t\t\t\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#用户是 apache")]),t._v("\nGroup apache\t\t\t\t\t\t\t\t\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#用户组是 apache")]),t._v("\nDirectory \t\t\t\t\t\t\t\t\t\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#认证授权和访问控制")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("##################################")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("IfModule prefork.c"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("    \t\t "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#当 httpd 服务使用的 profork 模型的时候：")]),t._v("\nStartServers      "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v("   \t\t\t "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#默认启动 10 个作业进程")]),t._v("\nMinSpareServers    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),t._v("   \t\t "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#空闲进程数不低于 10 个")]),t._v("\nMaxSpareServers    "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("20")]),t._v("\t\t\t\t\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#空闲进程数最大 20 个")]),t._v("\nServerLimit      "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("256")]),t._v("\t\t\t\t\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#最多可以启动 256 个进程")]),t._v("\nMaxClients       "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("256")]),t._v("   \t\t\t "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#最大并发客户端数为 256 个")]),t._v("\nMaxRequestsPerChild "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4000")]),t._v("\t\t "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#每个进程可以处理 4000 个请求，超过此数目进程被杀死并重新创建")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("/IfModule"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br")])]),s("p",[t._v("ServerLimit 最大值为 20000 ，profork 是单一线程的进程，所以同一时间里仅能处理一个请求，因此 MaxClients 的值要和 ServerLimit 一致")])])}),[],!1,null,null,null);s.default=e.exports}}]);