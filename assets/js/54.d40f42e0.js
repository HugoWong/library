(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{374:function(s,a,t){"use strict";t.r(a);var r=t(3),e=Object(r.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("blockquote",[a("p",[s._v("对于那些国产“毒瘤”的骚操作，总是感到深深的无奈")])]),s._v(" "),a("p",[s._v("“C盘满了，来帮我清理一下”"),a("br"),s._v("\n“修改 QQ、微信这些软件的聊天记录的存储路径”"),a("br"),s._v("\n“已经修改过了”"),a("br"),s._v("\n然后发现罪魁祸首是钉钉，用得越多日志文件越庞大，再大的C盘也经不住这么胡乱塞的；")]),s._v(" "),a("h2",{attrs:{id:"脚本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#脚本"}},[s._v("#")]),s._v(" 脚本")]),s._v(" "),a("div",{staticClass:"language-basic line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-basic"}},[a("code",[s._v("FORFILES "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v('P "%APPDATA%\\DingTalk\\'),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('" /M *.* /C "')]),s._v("cmd "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v('c del @path" '),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("D "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("div",{staticClass:"language-basic line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-basic"}},[a("code",[s._v("FORFILES "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v('P "%APPDATA%\\DingTalk\\'),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('" /M *.* /C "')]),s._v("cmd "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v('c del @path" '),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("D "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("后者设置计划任务定时定点执行")]),s._v(" "),a("h2",{attrs:{id:"解析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#解析"}},[s._v("#")]),s._v(" 解析")]),s._v(" "),a("h3",{attrs:{id:"forfiles"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#forfiles"}},[s._v("#")]),s._v(" FORFILES")]),s._v(" "),a("p",[a("code",[s._v("FORFILES")]),s._v("是一款 Windows 平台的软件工具，作用是：选择一个文件(或一组文件)并在那个文件上执行一个命令；文件选择标准包括名称和上次修改日期。")]),s._v(" "),a("h3",{attrs:{id:"参数列表"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参数列表"}},[s._v("#")]),s._v(" 参数列表")]),s._v(" "),a("p",[a("code",[s._v("FORFILES [/P pathname] [/M searchmask] [/S] [/C command] [/D [+ | -] {yyyy/MM/dd | dd}]")]),s._v('\n/P\tpathname\n表示开始搜索的路径。默认文件夹是当前工作的目录 (.)\n/M\tsearchmask\n根据搜索掩码搜索文件。默认搜索掩码是 \'*\'\n/S\n指导 forfiles 递归到子目录。像 "DIR /S"\n/C\tcommand\n表示为每个文件执行的命令，命令字符串应该用双引号括起来，默认命令是 "cmd /c echo @file"\n下列变量可以用在命令字符串中：')]),s._v(" "),a("ul",[a("li",[s._v("@file    - 返回文件名")]),s._v(" "),a("li",[s._v("@fname   - 返回不带扩展名的文件名")]),s._v(" "),a("li",[s._v("@ext     - 只返回文件的扩展名")]),s._v(" "),a("li",[s._v("@path    - 返回文件的完整路径")]),s._v(" "),a("li",[s._v("@relpath - 返回文件的相对路径")]),s._v(" "),a("li",[s._v('@isdir   - 如果文件类型是目录，返回 "TRUE"；如果是文件，返回 "FALSE"')]),s._v(" "),a("li",[s._v("@fsize   - 以字节为单位返回文件大小")]),s._v(" "),a("li",[s._v("@fdate   - 返回文件上一次修改的日期")]),s._v(" "),a("li",[s._v("@ftime   - 返回文件上一次修改的时间")])]),s._v(" "),a("p",[s._v('要在命令行包括特殊字符，字符请以 0xHH 形式使用十六进制代码(例如，0x09 为 tab)；内部 CMD.exe 命令前面应以 "cmd /c" 开始\n/D\tdate\n选择文件，其上一次修改日期大于或等于 (+)，或者小于或等于 (-) 用 "yyyy/MM/dd" 格式指定的日期;或选择文件，其上一次修改日期大于或等于 (+)当前日期加 "dd" 天，或者小于或等于 (-) 当前日期减 "dd" 天。有效的"dd" 天数可以是 0 - 32768 范围内的任何数字。如果没有指定，"+" 被当作默认符号。\n/?\n显示此帮助消息')]),s._v(" "),a("h3",{attrs:{id:"实例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#实例"}},[s._v("#")]),s._v(" 实例")]),s._v(" "),a("div",{staticClass:"language-basic line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-basic"}},[a("code",[s._v("FORFILES "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("?\nFORFILES "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("P C"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\\WINDOWS "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("S "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("M DNS"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("."),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("\nFORFILES "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("S "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("M "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(".txt "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v('C "cmd '),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("c "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("type")]),s._v(' @file | more"\nFORFILES '),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("P C"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\\ "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("S "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("M "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(".bat\nFORFILES "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("D "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("M "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(".exe "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v('C "cmd '),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("c echo @path "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("x09 在 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),s._v(' 前就被更改。"\nFORFILES '),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("D "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2001")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("01")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("01")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v('C "cmd '),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("c echo @fname 在 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2001")]),s._v("年"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("月"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v('日就是新的。"\nFORFILES '),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("D "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2022")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v('C "cmd '),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v('c echo @fname 今天是新的。"\nFORFILES '),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("M "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(".exe "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("D "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\nFORFILES "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("S "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("M "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(".doc "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v('C "cmd '),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v('c echo @fsize"\nFORFILES '),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("M "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(".txt "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v('C "cmd '),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("c "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" @isdir"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v('FALSE notepad.exe @file"\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])])])}),[],!1,null,null,null);a.default=e.exports}}]);