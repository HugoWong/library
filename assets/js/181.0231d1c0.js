(window.webpackJsonp=window.webpackJsonp||[]).push([[181],{494:function(t,n,e){"use strict";e.r(n);var r=e(3),a=Object(r.a)({},(function(){var t=this,n=t._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h2",{attrs:{id:"说明"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#说明"}},[t._v("#")]),t._v(" 说明")]),t._v(" "),n("p",[t._v("Oneindex 是个目录列表程序，可以将 OneDrive 特定账号网盘里面的文件目录直接列目录，文件直链下载且不会消耗服务器的流量和空间。")]),t._v(" "),n("h2",{attrs:{id:"需求"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#需求"}},[t._v("#")]),t._v(" 需求")]),t._v(" "),n("blockquote",[n("p",[t._v("PHP 5.6+ （Curl 支持）\nOneDrive 账号\nOneindex 程序")])]),t._v(" "),n("p",[t._v("更多详情，见 "),n("a",{attrs:{href:"https://github.com/donwa/oneindex",target:"_blank",rel:"noopener noreferrer"}},[t._v("Github"),n("OutboundLink")],1)]),t._v(" "),n("h2",{attrs:{id:"搭建"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#搭建"}},[t._v("#")]),t._v(" 搭建")]),t._v(" "),n("p",[t._v("起初使用万网（阿里云）虚拟主机，到绑定账号这一步一直无法成功，且无解决思路，放弃")]),t._v(" "),n("h3",{attrs:{id:"准备"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#准备"}},[t._v("#")]),t._v(" 准备")]),t._v(" "),n("p",[t._v("注册 "),n("a",{attrs:{href:"https://zeit.co/now",target:"_blank",rel:"noopener noreferrer"}},[t._v("Now"),n("OutboundLink")],1),t._v(" 账户（优点：无需设置密码，每次登录都会发送相应的确认邮件）；\nPS.使用下述临时邮箱"),n("a",{attrs:{href:"https://products.office.com/en-us/student?tab=students",target:"_blank",rel:"noopener noreferrer"}},[t._v("注册"),n("OutboundLink")],1),t._v(" OneDrive 账号（默认 1T 容量，部分邮箱有 5 T）；")]),t._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"http://get365.pw/%EF%BC%88%E5%AE%9E%E6%B5%8B",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://get365.pw/（实测"),n("OutboundLink")],1),t._v(" 5 T）")]),t._v(" "),n("li",[n("a",{attrs:{href:"http://officevip.club/",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://officevip.club/"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"http://gfw.ac.nz/",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://gfw.ac.nz/"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"http://mail.xgdfz.tech/",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://mail.xgdfz.tech/"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"http://ac.gua.bi/",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://ac.gua.bi/"),n("OutboundLink")],1)]),t._v(" "),n("li",[n("a",{attrs:{href:"http://od.office365vip.cn/",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://od.office365vip.cn/"),n("OutboundLink")],1)])]),t._v(" "),n("p",[t._v("如需使用自己的域名,直接创建域名 cname 记录到 mail.0du.win 等待生效即可。\n下载并安装 "),n("a",{attrs:{href:"https://nodejs.org/en/download/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Node.js"),n("OutboundLink")],1),t._v(" 和 "),n("a",{attrs:{href:"https://git-scm.com/downloads",target:"_blank",rel:"noopener noreferrer"}},[t._v("Git"),n("OutboundLink")],1),t._v(" 客户端。")]),t._v(" "),n("h3",{attrs:{id:"部署"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#部署"}},[t._v("#")]),t._v(" 部署")]),t._v(" "),n("p",[t._v("开始菜单 -> 所有程序-> Node.js 文件夹 -> Node.js command prompt，输入 npm install -g now 安装 Now 客户端\n安装完成以后，使用 now login 命令，再输入注册 Now 账号所用的邮箱地址进行登录（需要进邮箱点击确认按钮）\n运行 Git Bash，输入 git clone "),n("a",{attrs:{href:"https://github.com/donwa/oneindex.git",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/donwa/oneindex.git"),n("OutboundLink")],1),t._v(" 命令，拉取最新的 Oneindex 代码；\n在 Oneindex 文件夹（C:\\Users\\Administrator\\oneindex）中加入 now.json 文件，文件内容如下:")]),t._v(" "),n("div",{staticClass:"language-bash line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-bash"}},[n("code",[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"type"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"docker"')]),t._v(",\n"),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"features"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"cloud"')]),n("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"v1"')]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br")])]),n("p",[t._v("Node.js command prompt 进入 oneindex 文件夹中，输入 now 命令部署项目\n部署完成后，容器默认会隔一段时间重启，运行 now scale oneindex-sutiyqwewf.now.sh 1 命令不让容器重启；\n并且会默认分配一个二级域名：https://oneindex-sutiyqwewf.now.sh；可以输入 now alias oneindex-sutiyqwewf.now.sh 别名 命令，为服务取一个别名\n浏览器地址栏输入 "),n("a",{attrs:{href:"https://oneindex-sutiyqwewf.now.sh/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://oneindex-sutiyqwewf.now.sh"),n("OutboundLink")],1),t._v(" 进行 Oneindex 程序安装")]),t._v(" "),n("h2",{attrs:{id:"管理"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#管理"}},[t._v("#")]),t._v(" 管理")]),t._v(" "),n("p",[t._v("安装完成以后，默认后台密码是 oneindex，进入后台修改密码去掉/?/ (需配合伪静态使用!!)\nWindows 下配合 "),n("a",{attrs:{href:"https://www.raidrive.com/download/",target:"_blank",rel:"noopener noreferrer"}},[t._v("RaiDrive"),n("OutboundLink")],1),t._v("，随时随地对文件进行管理！\n特殊文件实现功能，注意大小写，说明文件请保存为 UTF-8 格式")]),t._v(" "),n("blockquote",[n("p",[t._v("加密文件夹\n在对应的文件夹中添加 .password 文件，填入密码，密码不能为空\n添加头部说明\n在对应的文件夹中添加 HEAD.md 文件，使用 markdown 语法\n添加底部说明\n在对应的文件夹中添加 README.md 文件，使用 markdown 语法\n直接输出网页\n在对应的文件夹中添加 index.html 文件，程序会直接输出网页而不列目录\n配合“文件展示设置 -> 直接输出 -> 添加 html”食用效果最佳")])]),t._v(" "),n("p",[t._v("Windows 下无法创建空文件名的文件，点击下载 "),n("a",{attrs:{href:"https://raw.githubusercontent.com/donwa/oneindex/files/.password",target:"_blank",rel:"noopener noreferrer"}},[t._v(".password"),n("OutboundLink")],1),t._v(" 然后修改里面的密码即可")])])}),[],!1,null,null,null);n.default=a.exports}}]);